<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PhytoPulse тАФ Plant Emotion Network</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="phytopulse.png">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    html { scroll-behavior: smooth; }
    body { background-color: #000; color: #e0ffe0; font-family: "Poppins", sans-serif; margin:0; }
    .fade-section { opacity: 0; transform: translateY(40px); transition: opacity 1.2s ease-out, transform 1.2s ease-out; }
    .fade-section.visible { opacity: 1; transform: translateY(0); }
    .navbar { background: rgba(0,0,0,0.8); padding: 10px 20px; display:flex; justify-content:space-between; align-items:center; position:fixed; width:100%; top:0; z-index:1000; }
    .navbar img { height:40px; margin-right:10px; vertical-align:middle; }
    .navbar span { font-size:20px; color:#00ff99; font-weight:bold; }
    .navbar ul { list-style:none; display:flex; gap:20px; }
    .navbar a { color:#e0ffe0; text-decoration:none; }
    section { padding:100px 40px; text-align:center; }
    footer { text-align:center; padding:20px; background:#000; color:#00ff99; }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
          else entry.target.classList.remove("visible");
        });
      }, { threshold: 0.2 });

      document.querySelectorAll("section, .benefit-grid, .card, .hero-content")
        .forEach(el => { el.classList.add("fade-section"); observer.observe(el); });
    });
  </script>
</head>

<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">
      <img src="phytopulse.png" alt="PhytoPulse Logo" />
      <span>PhytoPulse</span>
    </div>
    <nav>
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#model">AI Model</a></li>
        <li><a href="#technology">Technology</a></li>
        <li><a href="#benefits">Benefits</a></li>
        <li><a href="#insights">Insights</a></li>
      </ul>
    </nav>
  </header>

 <!-- Hero Section -->
<section class="hero" style="
  position: relative;
  height: 100vh;
  background: url('https://i.ibb.co/svTxm6zC/hero-bg.jpg') no-repeat center center/cover;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  color: #e0ffe0;
  overflow: hidden;
">
  <div style="
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.6);
    z-index: 0;
  "></div>

  <div class="hero-content" style="position: relative; z-index: 1; max-width: 800px;">
    <h1 style="
      font-size: 3.5rem;
      font-weight: 700;
      color: #00ff99;
      text-shadow: 0 0 25px #00ff99;
      margin-bottom: 20px;
    ">
      Giving Plants a Voice
    </h1>
    <p style="
      font-size: 1.2rem;
      line-height: 1.6;
      color: #ccffcc;
      margin-bottom: 40px;
    ">
      Discover how PhytoPulse translates plant bio-signals into insights using AI and neuroscience.
    </p>
    <a href="#insights" class="btn" style="
      background-color: #00ff99;
      color: #000;
      padding: 12px 28px;
      font-weight: bold;
      border-radius: 30px;
      text-decoration: none;
      box-shadow: 0 0 25px #00ff99;
      transition: 0.3s;
    " onmouseover="this.style.boxShadow='0 0 40px #00ff99'" 
      onmouseout="this.style.boxShadow='0 0 25px #00ff99'">
      ЁЯМ┐ Explore Dashboard
    </a>
  </div>
</section>

  <!-- About -->
  <section id="about">
    <h2>About PhytoPulse</h2>
    <p>PhytoPulse bridges neuroscience, plant biology, and AI to decode plant communication.</p>
  </section>

  <!-- AI Model -->
  <section id="model">
    <h2>AI Model Development</h2>
    <p>The collected plant bio-signal data trains our machine learning model to detect plant stress early.</p>
  </section>

  <!-- Technology -->
  <section id="technology" style="
    position: relative;
    background: url('https://i.ibb.co/BHwX4P5W/beautiful-fern-leaves-black-background.jpg') no-repeat center center/cover;
    color: #fff; text-align: center; padding: 120px 40px; overflow: hidden;">
    <div style="position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.55);z-index:0;"></div>
    <div style="position:relative;z-index:1;max-width:800px;margin:0 auto;">
      <h2 style="color:#00ff99;">How It Works</h2>
      <p>AI-driven sensors capture electrical signals from plants, revealing stress or emotions before visible signs.</p>
    </div>
  </section>

  <!-- Benefits -->
  <section id="benefits">
    <h2>Why PhytoPulse?</h2>
    <div class="benefit-grid" style="display:flex;justify-content:center;gap:20px;flex-wrap:wrap;">
      <div class="card" style="background:#0a1a0a;padding:20px;border-radius:10px;width:250px;box-shadow:0 0 15px #00ff99;">
        <h3>Early Detection</h3><p>Predict stress before visible damage.</p>
      </div>
      <div class="card" style="background:#0a1a0a;padding:20px;border-radius:10px;width:250px;box-shadow:0 0 15px #00ff99;">
        <h3>Eco-Friendly</h3><p>Non-invasive sensing for all crops.</p>
      </div>
      <div class="card" style="background:#0a1a0a;padding:20px;border-radius:10px;width:250px;box-shadow:0 0 15px #00ff99;">
        <h3>Smart Insights</h3><p>Farmers get real-time updates and advice.</p>
      </div>
    </div>
  </section>

  <!-- Insights -->
  <section id="insights">
    <h2>Live Plant Communication Dashboard</h2>
    <div style="width:80%;max-width:700px;margin:50px auto;text-align:center;">
      <h3 style="color:#00ff99;">ЁЯУК Real-Time Plant Signal Graph</h3>
      <canvas id="plantChart" width="700" height="350" style="background:#0a1a0a;border-radius:15px;box-shadow:0 0 20px #00ff99;"></canvas>
    </div>
    <div id="plant-data" style="margin:40px;color:#00ff99;"></div>
  </section>

  <footer><p>┬й 2025 PhytoPulse</p></footer>

  <!-- Live JS -->
  <script>
    const API_URL = window.location.hostname.includes("localhost")
      ? "http://localhost:5000/api/plant-data"
      : "https://phytopulse-org.onrender.com/api/plant-data";

    const ctx = document.getElementById('plantChart').getContext('2d');
    const timeLabels = [];
    const signalData = [];
    const chart = new Chart(ctx, {
      type: 'line',
      data: { labels: timeLabels, datasets: [{
        label: 'Signal Strength (V)', data: signalData,
        borderColor: '#00ff99', backgroundColor: 'rgba(0,255,153,0.2)',
        fill: true, tension: 0.3, pointRadius: 2 }] },
      options: {
        scales: {
          x: { title: { display: true, text: 'Time', color: '#00ff99' }, ticks: { color: '#ccffcc' } },
          y: { title: { display: true, text: 'Signal Voltage (V)', color: '#00ff99' }, ticks: { color: '#ccffcc' }, min: 0, max: 5 }
        },
        plugins: { legend: { labels: { color: '#00ff99' } } }
      }
    });

    function speakHindi(msg) {
      const u = new SpeechSynthesisUtterance(msg);
      u.lang = "hi-IN";
      u.rate = 1;
      speechSynthesis.speak(u);
    }

    let cooldown = 60;
    let lastAlert = "";

    function getVoiceForState(state) {
      if (state.toLowerCase().includes("pest")) return "рдЪреЗрддрд╛рд╡рдиреА! рдХреАрдЯ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИред";
      if (state.toLowerCase().includes("stress")) return "рдкреМрдзрд╛ рддрдирд╛рд╡ рдореЗрдВ рд╣реИ, рдзреНрдпрд╛рди рджреЗрдВред";
      return "рдЖрдкрдХрд╛ рдкреМрдзрд╛ рд╕реНрд╡рд╕реНрде рд╣реИред";
    }

    async function fetchPlantData() {
      try {
        const res = await fetch(API_URL);
        const data = await res.json();
        const now = new Date().toLocaleTimeString();

        if (timeLabels.length > 20) { timeLabels.shift(); signalData.shift(); }
        timeLabels.push(now);
        signalData.push(data.signalStrength);
        chart.update();

        document.getElementById("plant-data").innerHTML = `
          <h3>ЁЯМ┐ PhytoPulse Live Plant Data</h3>
          <p><strong>Moisture:</strong> ${data.moisture}%</p>
          <p><strong>Temperature:</strong> ${data.temperature}┬░C</p>
          <p><strong>Signal Strength:</strong> ${data.signalStrength} V</p>
          <p><strong>Emotion:</strong> ${data.emotion}</p>
          <p><strong>Health:</strong> ${data.healthStatus}</p>
          <p><em>Updated: ${data.timestamp}</em></p>
          <p id="cooldown-display" style="color:#66ffcc;">тП│ рдЕрдЧрд▓реА рдЬрд╛рдВрдЪ ${cooldown} рд╕реЗрдХрдВрдб рдореЗрдВ...</p>`;

        if (cooldown <= 0 && data.alertMessage !== lastAlert) {
          speakHindi(getVoiceForState(data.predictedState));
          lastAlert = data.alertMessage;
          cooldown = 60;
        }

      } catch (e) { console.error("Error fetching data:", e); }
    }

    setInterval(fetchPlantData, 5000);
    fetchPlantData();

    setInterval(() => {
      if (cooldown > 0) cooldown--;
      const el = document.getElementById("cooldown-display");
      if (el) el.textContent = cooldown > 0
        ? `тП│ рдЕрдЧрд▓реА рдЬрд╛рдВрдЪ ${cooldown} рд╕реЗрдХрдВрдб рдореЗрдВ...`
        : "тЬЕ рдирдИ рд╕реНрдерд┐рддрд┐ рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░!";
    }, 1000);
  </script>

  <!-- Chatbot -->
  <div id="chatbot" style="
    position:fixed;bottom:-400px;left:20px;width:320px;
    background:rgba(0,0,0,0.9);color:white;padding:15px;border-radius:15px;
    font-family:Poppins,sans-serif;box-shadow:0 0 15px #00ff99;
    transition:bottom 0.8s ease-in-out;z-index:9999;">
    <div style="display:flex;justify-content:space-between;">
      <strong>ЁЯдЦ PhytoPulse рд╕рд╣рд╛рдпрдХ</strong>
      <button id="minimize-btn" style="background:none;border:none;color:#00ff99;cursor:pointer;">тИТ</button>
    </div>
    <div id="chat-log" style="max-height:200px;overflow-y:auto;margin:10px 0;font-size:14px;"></div>
    <input id="chat-input" type="text" placeholder="Type in English or Hindi..." style="width:100%;padding:8px;border-radius:8px;border:none;">
    <div style="margin-top:8px; display:flex; justify-content:space-between;">
      <button id="chat-send" style="background:#00ff99;border:none;color:#000;padding:6px 10px;border-radius:6px;cursor:pointer;">Send</button>
      <button id="chat-voice" style="background:#66ccff;border:none;color:#000;padding:6px 10px;border-radius:6px;cursor:pointer;">ЁЯОд Speak</button>
    </div>
  </div>

  <div id="chat-bubble" style="display:none;position:fixed;bottom:20px;left:20px;background:#00ff99;color:black;
  padding:10px;border-radius:50%;font-size:22px;cursor:pointer;box-shadow:0 0 10px #00ff99;">ЁЯТм</div>

  <script>
    async function getPlantStatus() {
      try {
        const res = await fetch(API_URL);
        const data = await res.json();
        if (data.predictedState.toLowerCase().includes("stress"))
          return "рдкреМрдзрд╛ рддрдирд╛рд╡ рдореЗрдВ рд╣реИ ЁЯМ▒ тАФ рдзреНрдпрд╛рди рд░рдЦреЗрдВред";
        else if (data.predictedState.toLowerCase().includes("pest"))
          return "рдЪреЗрддрд╛рд╡рдиреА! рдХреАрдЯ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ ЁЯРЫ";
        else return "рдЖрдкрдХрд╛ рдкреМрдзрд╛ рдмрд┐рд▓реНрдХреБрд▓ рдареАрдХ рд╣реИ ЁЯМ┐";
      } catch {
        return "рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдирд╣реАрдВ рд╣реЛ рдкрд╛ рд░рд╣рд╛ ЁЯШФ";
      }
    }

    async function processMessage(msg) {
      const log = document.getElementById("chat-log");
      log.innerHTML += `<div><strong>ЁЯСитАНЁЯМ╛:</strong> ${msg}</div>`;
      let reply = "рдорд╛рдл рдХрд░реЗрдВ, рдореИрдВ рд╕рдордЭ рдирд╣реАрдВ рдкрд╛рдпрд╛ред";
      const lower = msg.toLowerCase();
      if (lower.includes("ok") || lower.includes("fine") || lower.includes("plant") || lower.includes("рдХреИрд╕рд╛"))
        reply = await getPlantStatus();
      else if (lower.includes("hello") || lower.includes("рдирдорд╕реНрддреЗ"))
        reply = "рдирдорд╕реНрддреЗ рдХрд┐рд╕рд╛рди рдЬреА! рдореИрдВ PhytoPulse рдЪреИрдЯ рд╕рд╣рд╛рдпрдХ рд╣реВрдБ ЁЯМ┐";
      log.innerHTML += `<div><strong>ЁЯдЦ:</strong> ${reply}</div>`;
      speakHindi(reply);
      log.scrollTop = log.scrollHeight;
    }

    document.getElementById("chat-send").onclick = async () => {
      const input = document.getElementById("chat-input");
      if (input.value.trim()) { await processMessage(input.value.trim()); input.value = ""; }
    };

    document.getElementById("chat-voice").onclick = () => {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = "hi-IN";
      recognition.start();
      recognition.onresult = async (event) => {
        const msg = event.results[0][0].transcript;
        await processMessage(msg);
      };
      recognition.onerror = () => speakHindi("рдорд╛рдл рдХрд░реЗрдВ, рдЖрд╡рд╛рдЬрд╝ рд╕рдордЭ рдирд╣реАрдВ рдЖрдИред");
    };

    window.addEventListener("load", () => {
      const bot = document.getElementById("chatbot");
      setTimeout(() => {
        bot.style.bottom = "20px";
        const greeting = "рдирдорд╕реНрддреЗ рдХрд┐рд╕рд╛рди рдЬреА! рдореИрдВ рдЖрдкрдХрд╛ PhytoPulse рд╕рд╣рд╛рдпрдХ рд╣реВрдБ ЁЯМ┐ рдХреНрдпрд╛ рдЖрдк рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХрд╛ рдкреМрдзрд╛ рдХреИрд╕рд╛ рд╣реИ?";
        document.getElementById("chat-log").innerHTML = `<div><strong>ЁЯдЦ:</strong> ${greeting}</div>`;
        speakHindi(greeting);
      }, 1500);
    });

    document.getElementById("minimize-btn").onclick = () => {
      document.getElementById("chatbot").style.bottom = "-400px";
      setTimeout(() => document.getElementById("chat-bubble").style.display = "block", 800);
    };
    document.getElementById("chat-bubble").onclick = () => {
      document.getElementById("chat-bubble").style.display = "none";
      document.getElementById("chatbot").style.bottom = "20px";
    };
  </script>
</body>
</html>


